{
  "checkin_booking_updated": {
    "description": "Check-in booking with MANDATORY vehicle inspection (updated schema)",
    "method": "POST",
    "url": "{{base_url}}/api/bookings/{{booking_id}}/check-in",
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "Bearer {{staff_token}}"
    },
    "body": {
      "actualStartTime": "2025-10-15T09:15:00.000Z",
      "actualPickupLocation": "Station Bay 3",
      "pickupOdometer": 15420.5,
      "batteryLevel": 85,
      "vehicleConditionNotes": "Vehicle is in excellent condition. All lights working properly.",
      "exteriorCondition": "GOOD",
      "interiorCondition": "GOOD",
      "inspectionImages": [
        "https://example.com/inspection-front.jpg",
        "https://example.com/inspection-rear.jpg",
        "https://example.com/inspection-interior.jpg"
      ]
    }
  },

  "checkin_booking_with_issues": {
    "description": "Check-in with vehicle condition issues documented",
    "method": "POST",
    "url": "{{base_url}}/api/bookings/{{booking_id}}/check-in",
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "Bearer {{staff_token}}"
    },
    "body": {
      "actualStartTime": "2025-10-15T09:15:00.000Z",
      "actualPickupLocation": "Station Bay 3",
      "pickupOdometer": 15420.5,
      "batteryLevel": 75,
      "vehicleConditionNotes": "Minor scratch on rear bumper, tire pressure low on front right",
      "exteriorCondition": "FAIR",
      "interiorCondition": "GOOD",
      "inspectionImages": [
        "https://example.com/scratch-rear-bumper.jpg",
        "https://example.com/tire-condition.jpg",
        "https://example.com/interior-clean.jpg",
        "https://example.com/dashboard-view.jpg"
      ]
    }
  },

  "complete_booking_updated": {
    "description": "Complete booking with MANDATORY checkout inspection (updated schema)",
    "method": "POST",
    "url": "{{base_url}}/api/bookings/{{booking_id}}/complete",
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "Bearer {{staff_token}}"
    },
    "body": {
      "actualEndTime": "2025-10-15T17:30:00.000Z",
      "actualReturnLocation": "Station Bay 1",
      "returnOdometer": 15489.2,
      "batteryLevel": 45,
      "notes": "Customer returned vehicle on time",
      "damageReport": "No new damage observed",
      "rating": 5,
      "exteriorCondition": "GOOD",
      "interiorCondition": "GOOD",
      "inspectionImages": [
        "https://example.com/checkout-front.jpg",
        "https://example.com/checkout-rear.jpg",
        "https://example.com/checkout-interior.jpg"
      ]
    }
  },

  "complete_booking_with_damage": {
    "description": "Complete booking with damage found during checkout",
    "method": "POST",
    "url": "{{base_url}}/api/bookings/{{booking_id}}/complete",
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "Bearer {{staff_token}}"
    },
    "body": {
      "actualEndTime": "2025-10-15T17:30:00.000Z",
      "actualReturnLocation": "Station Bay 1",
      "returnOdometer": 15489.2,
      "batteryLevel": 40,
      "notes": "Customer reported minor incident during rental",
      "damageReport": "New dent on driver side door, approximately 2 inches diameter. Paint slightly chipped.",
      "rating": 3,
      "exteriorCondition": "POOR",
      "interiorCondition": "FAIR",
      "inspectionImages": [
        "https://example.com/dent-driver-door.jpg",
        "https://example.com/paint-chip-detail.jpg",
        "https://example.com/interior-stain.jpg",
        "https://example.com/overall-condition.jpg"
      ]
    }
  },

  "expected_checkin_response": {
    "success": true,
    "message": "Booking checked in successfully. Vehicle rental has started.",
    "data": {
      "booking": "{ ... booking details ... }",
      "inspection": {
        "id": "inspection_id",
        "vehicleId": "vehicle_id",
        "staffId": "staff_id",
        "bookingId": "booking_id",
        "inspectionType": "CHECK_IN",
        "batteryLevel": 85,
        "exteriorCondition": "GOOD",
        "interiorCondition": "GOOD",
        "mileage": 15420.5,
        "notes": "Vehicle is in excellent condition...",
        "images": ["url1", "url2", "url3"],
        "isCompleted": true,
        "documentVerified": true
      },
      "checkInSummary": {
        "actualStartTime": "2025-10-15T09:15:00.000Z",
        "vehicleCondition": {
          "exterior": "GOOD",
          "interior": "GOOD",
          "notes": "Vehicle is in excellent condition...",
          "inspectionId": "inspection_id"
        }
      }
    }
  },

  "expected_complete_response": {
    "success": true,
    "message": "Booking completed successfully",
    "data": {
      "booking": "{ ... booking details ... }",
      "checkoutInspection": {
        "id": "checkout_inspection_id",
        "vehicleId": "vehicle_id",
        "staffId": "staff_id",
        "bookingId": "booking_id",
        "inspectionType": "CHECK_OUT",
        "batteryLevel": 45,
        "exteriorCondition": "GOOD",
        "interiorCondition": "GOOD",
        "mileage": 15489.2,
        "damageNotes": "No new damage observed",
        "notes": "Customer returned vehicle on time",
        "images": ["url1", "url2", "url3"],
        "isCompleted": true,
        "documentVerified": false
      },
      "summary": {
        "duration": "8 hours",
        "distance": "68.7 km",
        "vehicleCondition": {
          "exterior": "GOOD",
          "interior": "GOOD",
          "damageReport": "No new damage observed",
          "inspectionId": "checkout_inspection_id"
        }
      }
    }
  },

  "schema_notes": {
    "new_fields_in_vehicle_inspection": {
      "mileage": "Vehicle odometer reading (maps from pickupOdometer/returnOdometer)",
      "tireCondition": "Optional tire condition (GOOD/FAIR/POOR)",
      "accessories": "JSON array of accessories present/missing",
      "damageNotes": "Specific damage descriptions (separate from general notes)",
      "isCompleted": "Whether inspection is finalized (true for our booking flow)",
      "documentVerified": "Whether customer documents were verified (true for check-in)"
    },
    "mandatory_requirements": {
      "checkin": "Must have at least 1 inspection image",
      "checkout": "Must have at least 1 inspection image",
      "condition_enum": "exteriorCondition and interiorCondition use ConditionStatus enum (GOOD/FAIR/POOR)"
    }
  }
}
